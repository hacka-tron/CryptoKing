{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { CurrencyService } from 'app/services/currency.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"app/services/currency.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = a0 => ({\n  currency: a0\n});\nconst _c1 = a0 => ({\n  \"is-invalid\": a0\n});\nfunction CurrenciesListComponent_div_1_ng_template_1_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function CurrenciesListComponent_div_1_ng_template_1_button_6_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const currencyProp_r3 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.toggleToBuy(currencyProp_r3));\n    });\n    i0.ɵɵelement(1, \"i\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const currencyProp_r3 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", currencyProp_r3.toBuy ? \"toBuy\" : \"\");\n  }\n}\nfunction CurrenciesListComponent_div_1_ng_template_1_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"div\", 18)(2, \"span\", 19);\n    i0.ɵɵtext(3, \"Value:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 20);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 18)(8, \"span\", 19);\n    i0.ɵɵtext(9, \"Market Cap:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"span\", 20);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 18)(14, \"span\", 19);\n    i0.ɵɵtext(15, \"24h Volume:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"span\", 20);\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"currency\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const currency_r5 = i0.ɵɵnextContext().currency;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 3, currency_r5.USD.price));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(12, 5, currency_r5.USD.market_cap));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(18, 7, currency_r5.USD.volume_24h));\n  }\n}\nfunction CurrenciesListComponent_div_1_ng_template_1_form_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", null, 1)(2, \"div\", 21)(3, \"label\");\n    i0.ɵɵtext(4, \"How much do you want to invest?($)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 22, 2);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function CurrenciesListComponent_div_1_ng_template_1_form_12_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const currencyProp_r3 = i0.ɵɵnextContext(2).$implicit;\n      i0.ɵɵtwoWayBindingSet(currencyProp_r3.beingBought, $event) || (currencyProp_r3.beingBought = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 23);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 24);\n    i0.ɵɵtext(10, \" Must add an input \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 24);\n    i0.ɵɵtext(12, \" You must spend at least $1 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 24);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function CurrenciesListComponent_div_1_ng_template_1_form_12_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const currency_r5 = i0.ɵɵnextContext().currency;\n      const currencyProp_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.buyCoin(currencyProp_r3.beingBought, currency_r5.id, ctx_r3.curWalletId));\n    });\n    i0.ɵɵtext(16, \" Buy Coin \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const coinForm_r7 = i0.ɵɵreference(1);\n    const curAmmount_r8 = i0.ɵɵreference(6);\n    const currency_r5 = i0.ɵɵnextContext().currency;\n    const currencyProp_r3 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtwoWayProperty(\"ngModel\", currencyProp_r3.beingBought);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(11, _c1, curAmmount_r8.errors && curAmmount_r8.touched))(\"max\", ctx_r3.dollarAmmount);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", !(currencyProp_r3.beingBought > 0));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", currency_r5.symbol, \": \", currencyProp_r3.beingBought / currency_r5.USD.price, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"hidden\", !(curAmmount_r8.errors == null ? null : curAmmount_r8.errors.required));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", !(curAmmount_r8.errors == null ? null : curAmmount_r8.errors.min));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", !(curAmmount_r8.errors == null ? null : curAmmount_r8.errors.max));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" You can only invest a maximum of $\", ctx_r3.dollarAmmount, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", !coinForm_r7.form.valid);\n  }\n}\nfunction CurrenciesListComponent_div_1_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 6)(1, \"div\", 7)(2, \"span\", 8);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementStart(5, \"div\", 9);\n    i0.ɵɵtemplate(6, CurrenciesListComponent_div_1_ng_template_1_button_6_Template, 2, 1, \"button\", 10);\n    i0.ɵɵelementStart(7, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function CurrenciesListComponent_div_1_ng_template_1_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const currencyProp_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.toggleFavorites(currencyProp_r3));\n    });\n    i0.ɵɵelement(8, \"i\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function CurrenciesListComponent_div_1_ng_template_1_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const currencyProp_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.toggleCurrencyHide(currencyProp_r3));\n    });\n    i0.ɵɵelement(10, \"i\", 13);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(11, CurrenciesListComponent_div_1_ng_template_1_div_11_Template, 19, 9, \"div\", 14)(12, CurrenciesListComponent_div_1_ng_template_1_form_12_Template, 17, 13, \"form\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const currency_r5 = ctx.currency;\n    const currencyProp_r3 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"#\", currency_r5.rank, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", currency_r5.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.userIsAuthenticated);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", currencyProp_r3.isFavorite ? \"isFav\" : \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", currencyProp_r3.hide ? \"fa fa-plus\" : \"fa fa-minus\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !currencyProp_r3.hide);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", currencyProp_r3.toBuy);\n  }\n}\nfunction CurrenciesListComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, CurrenciesListComponent_div_1_ng_template_1_Template, 13, 7, \"ng-template\", 5, 0, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const currencyProp_r3 = ctx.$implicit;\n    const setCurrencyProp_r9 = i0.ɵɵreference(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(2, _c0, currencyProp_r3.currency))(\"ngTemplateOutlet\", setCurrencyProp_r9);\n  }\n}\nexport let CurrenciesListComponent = /*#__PURE__*/(() => {\n  class CurrenciesListComponent {\n    constructor(currencyService) {\n      this.currencyService = currencyService;\n      this.currencyProps = [];\n      this.userIsAuthenticated = false;\n      this.favoritePropAdded = new EventEmitter();\n      this.favoritePropRemoved = new EventEmitter();\n    }\n    buyCoin(ammount, coinId, walletId) {\n      if (confirm(\"Are You Sure?\")) {\n        this.currencyService.buyCoin(ammount, coinId, walletId);\n        console.log('coin purchased.');\n        const curProp = this.currencyProps.find(curProp => curProp.currency.id == coinId);\n        curProp.beingBought = 0;\n        this.toggleToBuy(curProp);\n      }\n    }\n    toggleCurrencyHide(currencyProp) {\n      if (currencyProp.toBuy) {\n        this.toggleToBuy(currencyProp);\n      }\n      currencyProp.hide = !currencyProp.hide;\n    }\n    toggleToBuy(currencyProp) {\n      if (!currencyProp.hide) {\n        this.toggleCurrencyHide(currencyProp);\n      }\n      currencyProp.toBuy = !currencyProp.toBuy;\n    }\n    toggleFavorites(currencyProp) {\n      currencyProp.isFavorite = !currencyProp.isFavorite;\n      if (currencyProp.isFavorite) {\n        this.favoritePropAdded.emit(currencyProp);\n      } else {\n        this.favoritePropRemoved.emit(currencyProp);\n      }\n    }\n    static #_ = this.ɵfac = function CurrenciesListComponent_Factory(t) {\n      return new (t || CurrenciesListComponent)(i0.ɵɵdirectiveInject(i1.CurrencyService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CurrenciesListComponent,\n      selectors: [[\"currencies-list\"]],\n      inputs: {\n        currencyProps: \"currencyProps\",\n        userIsAuthenticated: \"userIsAuthenticated\",\n        curWalletId: \"curWalletId\",\n        dollarAmmount: \"dollarAmmount\"\n      },\n      outputs: {\n        favoritePropAdded: \"favoritePropAdded\",\n        favoritePropRemoved: \"favoritePropRemoved\"\n      },\n      decls: 2,\n      vars: 1,\n      consts: [[\"setCurrencyProp\", \"\"], [\"coinForm\", \"ngForm\"], [\"curAmmount\", \"ngModel\"], [1, \"list-unstyled\", \"m-3\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngTemplateOutletContext\", \"ngTemplateOutlet\"], [1, \"card\", \"card-body\", \"mb-2\", \"bg-light\"], [1, \"card-title\"], [1, \"rank\"], [1, \"float-end\"], [\"class\", \"btn-dark btn\", 3, \"click\", 4, \"ngIf\"], [1, \"btn-dark\", \"btn\", 3, \"click\"], [1, \"fa\", \"fa-star\", 3, \"ngClass\"], [3, \"ngClass\"], [\"class\", \"stats-container\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"fa\", \"fa-dollar\", 3, \"ngClass\"], [1, \"stats-container\"], [1, \"stat-item\"], [1, \"stat-label\"], [1, \"stat-value\"], [1, \"form-group\"], [\"type\", \"number\", \"name\", \"curAmmount\", \"required\", \"\", \"min\", \"1\", \"ng-pattern\", \"integerval\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\", \"ngClass\", \"max\"], [3, \"hidden\"], [1, \"invalid-feedback\", 3, \"hidden\"], [1, \"btn\", \"btn-block\", \"btn-dark\", \"mb-3\", 3, \"click\", \"disabled\"]],\n      template: function CurrenciesListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ul\", 3);\n          i0.ɵɵtemplate(1, CurrenciesListComponent_div_1_Template, 3, 4, \"div\", 4);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngForOf\", ctx.currencyProps);\n        }\n      },\n      dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i2.NgTemplateOutlet, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.MinValidator, i3.MaxValidator, i3.NgModel, i3.NgForm, i2.CurrencyPipe],\n      styles: [\".card[_ngcontent-%COMP%]{font-size:clamp(25px,1.5vw,30px);font-style:bold}.isFav[_ngcontent-%COMP%]{color:#ff0}.toBuy[_ngcontent-%COMP%]{color:green}.rank[_ngcontent-%COMP%]{float:left;color:gray}.stats-container[_ngcontent-%COMP%]{background-color:#f0f0f0;padding:5px;border-radius:5px;margin-top:5px;font-size:clamp(20px,1.5vw,25px)}.stat-item[_ngcontent-%COMP%]{margin-bottom:5px}.stat-label[_ngcontent-%COMP%]{font-weight:700;margin-right:5px}.stat-value[_ngcontent-%COMP%]{font-style:italic}\"]\n    });\n  }\n  return CurrenciesListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}